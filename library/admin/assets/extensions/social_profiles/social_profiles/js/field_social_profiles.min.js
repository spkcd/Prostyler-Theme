!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.social_profiles=redux.field_objects.social_profiles||{},redux.field_objects.social_profiles.fieldID="",redux.field_objects.social_profiles.optName="",redux.field_objects.social_profiles.init=function(i){i||(i=e(document).find(".redux-group-tab:visible").find(".redux-container-social_profiles:visible")),e(i).each(function(){var i=e(this),o=i;i.hasClass("redux-field-container")||(o=i.parents(".redux-field-container:first")),o.is(":hidden")||o.hasClass("redux-field-init")&&(o.removeClass("redux-field-init"),redux.field_objects.social_profiles.modInit(i),redux.field_objects.social_profiles.sortListByOrder(i),redux.field_objects.social_profiles.sortEnableListByOrder(i),redux.field_objects.social_profiles.initializeResetButtons(i),redux.field_objects.social_profiles.showEnabledDetails(i))})},redux.field_objects.social_profiles.modInit=function(i){redux.field_objects.social_profiles.fieldID=i.find(".redux-social-profiles-container").data("id"),redux.field_objects.social_profiles.optName=i.find(".redux-social-profiles-container").data("opt-name");var o=Boolean(i.find(".redux-social-profiles-container").data("dev-mode"));if(o===!0){var r=i.find(".redux-social-profiles-container").data("version"),l=e("div.redux-timer").html();if(void 0!==l){var a=l.indexOf("Social Profiles");-1===a&&e("div.redux-timer").html(l+"<br/>Social Profiles extension v."+r)}}i.find("#redux-social-profiles-list").sortable({revert:"invalid",cursor:"move",helper:"clone",handle:".redux-icon-preview",placeholder:"sortable-placeholder",change:function(){},stop:function(){redux.field_objects.social_profiles.reorderSocialItems(i),redux_change(i.find(".redux-social-profiles-container"))},start:function(){}}),i.find("#redux-social-profiles-selector-list").sortable({revert:"invalid",cursor:"move",helper:"clone",placeholder:"sortable-placeholder",change:function(){},stop:function(){redux.field_objects.social_profiles.reorderSocialEnable(i),redux_change(i.find(".redux-social-profiles-container"))},start:function(){}}),i.find(".redux-social-profiles-url-text").on("blur",function(){var o=e(this).data("key"),r=e(this).val();redux.field_objects.social_profiles.updateDataString(i,o,"url",r)}),i.find(".redux-social-profiles-item-enable").on("click",function(){var o=e(this).data("key");redux.field_objects.social_profiles.toggleEnabled(i,o)}),i.find(".redux-social-profiles-item-enabled input").on("click",function(o){o.preventDefault();var r=e(this),l=r.data("key");redux.field_objects.social_profiles.toggleEnabled(i,l)})},redux.field_objects.social_profiles.valueFromDataString=function(e,i,o){var r=e.find(".redux-social-profiles-hidden-data-"+i),l=r.val();l=decodeURIComponent(l),l=JSON.parse(l);var a=l[o];return a},redux.field_objects.social_profiles.updateDataString=function(e,i,o,r){var l=e.find(".redux-social-profiles-hidden-data-"+i),a=l.val();a=decodeURIComponent(a),a=JSON.parse(a),a[o]=r,a=JSON.stringify(a),a=encodeURIComponent(a),l.val(a)},redux.field_objects.social_profiles.sortListByOrder=function(i){var o=i.find("ul#redux-social-profiles-list "),r=o.children("li");r.detach().sort(function(i,o){return e(i).find(".redux-social-profiles-item-order input").val()-e(o).find(".redux-social-profiles-item-order input").val()}),o.append(r)},redux.field_objects.social_profiles.sortEnableListByOrder=function(i){var o=i.find("ul#redux-social-profiles-selector-list"),r=o.children("li");r.detach().sort(function(i,o){return e(i).data("order")-e(o).data("order")}),o.append(r)},redux.field_objects.social_profiles.initializeResetButtons=function(i){i.find(".redux-social-profiles-item-reset a").click(function(){var o=e(this);if(o.length>0){var r=o.data("value");redux.field_objects.social_profiles.resetItem(i,r)}})},redux.field_objects.social_profiles.resetItem=function(e,i){var o=reduxSocialDefaults[i].color,r=reduxSocialDefaults[i].background;e.find(".redux-social-profiles-color-picker-"+i+".text").spectrum("set",o),e.find(".redux-social-profiles-color-picker-"+i+".background").spectrum("set",r),redux.field_objects.social_profiles.updateDataString(e,i,"color",o),redux.field_objects.social_profiles.updateDataString(e,i,"background",r),redux.field_objects.social_profiles.updatePreview(e,i)},redux.field_objects.social_profiles.updatePreview=function(e,i){var o=redux.field_objects.social_profiles.valueFromDataString(e,i,"color"),r=redux.field_objects.social_profiles.valueFromDataString(e,i,"background"),l=reduxSocialDefaults[i].icon,a=e.find("#redux-social-item-"+i+" i."+l);a.css("background-color",r),a.css("color",o)},redux.field_objects.social_profiles.toggleEnabled=function(e,i){var o,r=e.find("#redux-social-profiles-item-enable-"+i),l=r.hasClass("enabled");l?(r.removeClass("enabled"),o=!1):(r.addClass("enabled"),o=!0),redux.field_objects.social_profiles.updateDataString(e,i,"enabled",o),redux_change(e.find(".redux-social-profiles-container")),redux.field_objects.social_profiles.showEnabledDetails(e)},redux.field_objects.social_profiles.showEnabledDetails=function(i){var o=i.find("li.redux-social-profiles-item-enable");if(o.length>0){var r=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d9ead3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]];o.each(function(){var o=e(this),l=o.data("key");if(o.hasClass("enabled")){i.find(".redux-social-profiles-color-picker-"+l).spectrum({showAlpha:!0,showInput:!0,allowEmpty:!0,className:"redux-full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,clickoutFiresChange:!0,preferredFormat:"rgb",localStorageKey:"redux.social-profiles.spectrum",palette:r,change:function(o){var r;r=e(this).hasClass("text")?"color":"background",redux.field_objects.social_profiles.updateDataString(i,l,r,o.toRgbString()),redux.field_objects.social_profiles.updatePreview(i,l)}}),i.find("li#redux-social-item-"+l).slideDown();var a=i.find("input.checkbox-"+l),d=e(a).parent().find(".checkbox-check-"+l);a.prop("checked",!0),d.val(1)}else{var o=i.find("li#redux-social-item-"+l);if(o.is(":hidden"))return;o.slideUp("medium");var a=i.find("input.checkbox-"+l),d=e(a).parent().find(".checkbox-check-"+l);a.prop("checked",!1),d.val(0)}})}},redux.field_objects.social_profiles.reorderSocialItems=function(i){var o=i.find("ul#redux-social-profiles-list li");o.length>0&&(o.each(function(o){var r=e(this),l=r.data("key"),a=r.find(".redux-social-profiles-item-order input");a.val(o),redux.field_objects.social_profiles.updateDataString(i,l,"order",o),i.find("#redux-social-profiles-item-enable-"+l).data("order",o)}),redux.field_objects.social_profiles.sortEnableListByOrder(i))},redux.field_objects.social_profiles.reorderSocialEnable=function(i){var o=i.find("ul#redux-social-profiles-selector-list li");o.length>0&&o.each(function(o){var r=e(this),l=r.data("key");r.data("order",o);var a=i.find("li#redux-social-item-"+l),d=a.find(".redux-social-profiles-item-order input");d.val(o),redux.field_objects.social_profiles.updateDataString(i,l,"order",o)}),redux.field_objects.social_profiles.sortListByOrder(i)}}(jQuery);